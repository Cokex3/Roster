define(["../core","../event"],function(e){"use strict";e.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,n){e.fn[n]=function(e){return this.on(n,e)}})});ction(e,t,n,i,r,s){"use strict";function y(t){return function(i,r){"string"!=typeof i&&(r=i,i="*");var s,o=0,a=i.toLowerCase().match(n)||[];if(e.isFunction(r))for(;s=a[o++];)"+"===s[0]?(s=s.slice(1)||"*",(t[s]=t[s]||[]).unshift(r)):(t[s]=t[s]||[]).push(r)}}function v(t,n,i,r){function a(l){var u;return s[l]=!0,e.each(t[l]||[],function(e,t){var l=t(n,i,r);return"string"!=typeof l||o||s[l]?o?!(u=l):void 0:(n.dataTypes.unshift(l),a(l),!1)}),u}var s={},o=t===h;return a(n.dataTypes[0])||!s["*"]&&a("*")}function _(t,n){var i,r,s=e.ajaxSettings.flatOptions||{};for(i in n)void 0!==n[i]&&((s[i]?t:r||(r={}))[i]=n[i]);return r&&e.extend(!0,t,r),t}function C(e,t,n){for(var i,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==l[0]&&l.unshift(s),n[s]):void 0}function b(e,t,n,i){var r,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=u[l+" "+s]||u["* "+s],!o)for(r in u)if(a=r.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[r]:u[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(f){return{state:"parsererror",error:o?f:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}var o=/%20/g,a=/#.*$/,l=/([?&])_=[^&]*/,u=/^(.*?):[ \t]*([^\r\n]*)$/gm,c=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,f=/^(?:GET|HEAD)$/,d=/^\/\//,p={},h={},m="*/".concat("*"),g=t.createElement("a");return g.href=i.href,e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:i.href,type:"GET",isLocal:c.test(i.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":m,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,n){return n?_(_(t,e.ajaxSettings),n):_(e.ajaxSettings,t)},ajaxPrefilter:y(p),ajaxTransport:y(h),ajax:function(c,y){function U(t,n,i,r){var s,o,a,l,u,c=n;S||(S=!0,x&&window.clearTimeout(x),_=void 0,w=r||"",B.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(l=C(k,B,i)),l=b(k,l,B,s),s?(k.ifModified&&(u=B.getResponseHeader("Last-Modified"),u&&(e.lastModified[E]=u),u=B.getResponseHeader("etag"),u&&(e.etag[E]=u)),204===t||"HEAD"===k.type?c="nocontent":304===t?c="notmodified":(c=l.state,o=l.data,a=l.error,s=!a)):(a=c,(t||!c)&&(c="error",0>t&&(t=0))),B.status=t,B.statusText=(n||c)+"",s?O.resolveWith(D,[o,c,B]):O.rejectWith(D,[B,c,a]),B.statusCode(H),H=void 0,A&&R.trigger(s?"ajaxSuccess":"ajaxError",[B,k,s?o:a]),P.fireWith(D,[B,c]),A&&(R.trigger("ajaxComplete",[B,k]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof c&&(y=c,c=void 0),y=y||{};var _,E,w,T,x,L,S,A,I,N,k=e.ajaxSetup({},y),D=k.context||k,R=k.context&&(D.nodeType||D.jquery)?e(D):e.event,O=e.Deferred(),P=e.Callbacks("once memory"),H=k.statusCode||{},M={},j={},F="canceled",B={readyState:0,getResponseHeader:function(e){var t;if(S){if(!T)for(T={};t=u.exec(w);)T[t[1].toLowerCase()]=t[2];t=T[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return S?w:null},setRequestHeader:function(e,t){return null==S&&(e=j[e.toLowerCase()]=j[e.toLowerCase()]||e,M[e]=t),this},overrideMimeType:function(e){return null==S&&(k.mimeType=e),this},statusCode:function(e){var t;if(e)if(S)B.always(e[B.status]);else for(t in e)H[t]=[H[t],e[t]];return this},abort:function(e){var t=e||F;return _&&_.abort(t),U(0,t),this}};if(O.promise(B),k.url=((c||k.url||i.href)+"").replace(d,i.protocol+"//"),k.type=y.method||y.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(n)||[""],null==k.crossDomain){L=t.createElement("a");try{L.href=k.url,L.href=L.href,k.crossDomain=g.protocol+"//"+g.host!=L.protocol+"//"+L.host}catch(q){k.crossDomain=!0}}if(k.data&&k.processData&&"string"!=typeof k.data&&(k.data=e.param(k.data,k.traditional)),v(p,k,y,B),S)return B;A=e.event&&k.global,A&&0===e.active++&&e.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!f.test(k.type),E=k.url.replace(a,""),k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(o,"+")):(N=k.url.slice(E.length),k.data&&(E+=(s.test(E)?"&":"?")+k.data,delete k.data),k.cache===!1&&(E=E.replace(l,"$1"),N=(s.test(E)?"&":"?")+"_="+r++ +N),k.url=E+N),k.ifModified&&(e.lastModified[E]&&B.setRequestHeader("If-Modified-Since",e.lastModified[E]),e.etag[E]&&B.setRequestHeader("If-None-Match",e.etag[E])),(k.data&&k.hasContent&&k.contentType!==!1||y.contentType)&&B.setRequestHeader("Content-Type",k.contentType),B.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+m+"; q=0.01":""):k.accepts["*"]);for(I in k.headers)B.setRequestHeader(I,k.headers[I]);if(k.beforeSend&&(k.beforeSend.call(D,B,k)===!1||S))return B.abort();if(F="abort",P.add(k.complete),B.done(k.success),B.fail(k.error),_=v(h,k,y,B)){if(B.readyState=1,A&&R.trigger("ajaxSend",[B,k]),S)return B;k.async&&k.timeout>0&&(x=window.setTimeout(function(){B.abort("timeout")},k.timeout));try{S=!1,_.send(M,U)}catch(q){if(S)throw q;U(-1,q)}}else U(-1,"No Transport");return B},getJSON:function(t,n,i){return e.get(t,n,i,"json")},getScript:function(t,n){return e.get(t,void 0,n,"script")}}),e.each(["get","post"],function(t,n){e[n]=function(t,i,r,s){return e.isFunction(i)&&(s=s||r,r=i,i=void 0),e.ajax(e.extend({url:t,type:n,dataType:s,data:i,success:r},e.isPlainObject(t)&&t))}}),e});