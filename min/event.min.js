define(["./core","./var/document","./var/documentElement","./var/rnothtmlwhite","./var/slice","./data/var/dataPriv","./core/nodeName","./core/init","./selector"],function(e,t,n,i,r,s,o){"use strict";function c(){return!0}function f(){return!1}function d(){try{return t.activeElement}catch(e){}}function p(t,n,i,r,s,o){var a,l;if("object"==typeof n){"string"!=typeof i&&(r=r||i,i=void 0);for(l in n)p(t,l,i,r,n[l],o);return t}if(null==r&&null==s?(s=i,r=i=void 0):null==s&&("string"==typeof i?(s=r,r=void 0):(s=r,r=i,i=void 0)),s===!1)s=f;else if(!s)return t;return 1===o&&(a=s,s=function(t){return e().off(t),a.apply(this,arguments)},s.guid=a.guid||(a.guid=e.guid++)),t.each(function(){e.event.add(this,n,s,r,i)})}var a=/^key/,l=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,u=/^([^.]*)(?:\.(.+)|)/;return e.event={global:{},add:function(t,r,o,a,l){var c,f,d,p,h,m,g,y,v,_,C,b=s.get(t);if(b)for(o.handler&&(c=o,o=c.handler,l=c.selector),l&&e.find.matchesSelector(n,l),o.guid||(o.guid=e.guid++),(p=b.events)||(p=b.events={}),(f=b.handle)||(f=b.handle=function(n){return"undefined"!=typeof e&&e.event.triggered!==n.type?e.event.dispatch.apply(t,arguments):void 0}),r=(r||"").match(i)||[""],h=r.length;h--;)d=u.exec(r[h])||[],v=C=d[1],_=(d[2]||"").split(".").sort(),v&&(g=e.event.special[v]||{},v=(l?g.delegateType:g.bindType)||v,g=e.event.special[v]||{},m=e.extend({type:v,origType:C,data:a,handler:o,guid:o.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:_.join(".")},c),(y=p[v])||(y=p[v]=[],y.delegateCount=0,g.setup&&g.setup.call(t,a,_,f)!==!1||t.addEventListener&&t.addEventListener(v,f)),g.add&&(g.add.call(t,m),m.handler.guid||(m.handler.guid=o.guid)),l?y.splice(y.delegateCount++,0,m):y.push(m),e.event.global[v]=!0)},remove:function(t,n,r,o,a){var l,c,f,d,p,h,m,g,y,v,_,C=s.hasData(t)&&s.get(t);if(C&&(d=C.events)){for(n=(n||"").match(i)||[""],p=n.length;p--;)if(f=u.exec(n[p])||[],y=_=f[1],v=(f[2]||"").split(".").sort(),y){for(m=e.event.special[y]||{},y=(o?m.delegateType:m.bindType)||y,g=d[y]||[],f=f[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=g.length;l--;)h=g[l],!a&&_!==h.origType||r&&r.guid!==h.guid||f&&!f.test(h.namespace)||o&&o!==h.selector&&("**"!==o||!h.selector)||(g.splice(l,1),h.selector&&g.delegateCount--,m.remove&&m.remove.call(t,h));c&&!g.length&&(m.teardown&&m.teardown.call(t,v,C.handle)!==!1||e.removeEvent(t,y,C.handle),delete d[y])}else for(y in d)e.event.remove(t,y+n[p],r,o,!0);e.isEmptyObject(d)&&s.remove(t,"handle events")}},dispatch:function(t){var i,r,o,a,l,u,n=e.event.fix(t),c=new Array(arguments.length),f=(s.get(this,"events")||{})[n.type]||[],d=e.event.special[n.type]||{};for(c[0]=n,i=1;i<arguments.length;i++)c[i]=arguments[i];if(n.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,n)!==!1){for(u=e.event.handlers.call(this,n,f),i=0;(a=u[i++])&&!n.isPropagationStopped();)for(n.currentTarget=a.elem,r=0;(l=a.handlers[r++])&&!n.isImmediatePropagationStopped();)(!n.rnamespace||n.rnamespace.test(l.namespace))&&(n.handleObj=l,n.data=l.data,o=((e.event.special[l.origType]||{}).handle||l.handler).apply(a.elem,c),void 0!==o&&(n.result=o)===!1&&(n.preventDefault(),n.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,n),n.result}},handlers:function(t,n){var i,r,s,o,a,l=[],u=n.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||c.disabled!==!0)){for(o=[],a={},i=0;u>i;i++)r=n[i],s=r.selector+" ",void 0===a[s]&&(a[s]=r.needsContext?e(s,this).index(c)>-1:e.find(s,this,null,[c]).length),a[s]&&o.push(r);o.length&&l.push({elem:c,handlers:o})}return c=this,u<n.length&&l.push({elem:c,handlers:n.slice(u)}),l},addProp:function(t,n){Object.defineProperty(e.Event.prototype,t,{enumerable:!0,configurable:!0,get:e.isFunction(n)?function(){return this.originalEvent?n(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[e.expando]?t:new e.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o(this,"input")?(this.click(),!1):void 0},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},e.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},e.Event=function(t,n){return this instanceof e.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:f,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,n&&e.extend(this,n),this.timeStamp=t&&t.timeStamp||e.now(),void(this[e.expando]=!0)):new e.Event(t,n)},e.Event.prototype={constructor:e.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&a.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&l.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},e.event.addProp),e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var i,r=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==r&&!e.contains(r,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=n),i}}}),e.fn.extend({on:function(e,t,n,i){return p(this,e,t,n,i)},one:function(e,t,n,i){return p(this,e,t,n,i,1)},off:function(t,n,i){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,e(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,n,t[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=void 0),i===!1&&(i=f),this.each(function(){e.event.remove(this,t,i,n)})}}),e});