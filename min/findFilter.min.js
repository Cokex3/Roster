define(["../core","../var/indexOf","./var/rneedsContext","../selector"],function(e,t,n){"use strict";function r(n,r,s){return e.isFunction(r)?e.grep(n,function(e,t){return!!r.call(e,t,e)!==s}):r.nodeType?e.grep(n,function(e){return e===r!==s}):"string"!=typeof r?e.grep(n,function(e){return t.call(r,e)>-1!==s}):i.test(r)?e.filter(r,n,s):(r=e.filter(r,n),e.grep(n,function(e){return t.call(r,e)>-1!==s&&1===e.nodeType}))}var i=/^.[^:#\[\.,]*$/;e.filter=function(t,n,i){var r=n[0];return i&&(t=":not("+t+")"),1===n.length&&1===r.nodeType?e.find.matchesSelector(r,t)?[r]:[]:e.find.matches(t,e.grep(n,function(e){return 1===e.nodeType}))},e.fn.extend({find:function(t){var n,i,r=this.length,s=this;if("string"!=typeof t)return this.pushStack(e(t).filter(function(){for(n=0;r>n;n++)if(e.contains(s[n],this))return!0}));for(i=this.pushStack([]),n=0;r>n;n++)e.find(t,s[n],i);return r>1?e.uniqueSort(i):i},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&n.test(t)?e(t):t||[],!1).length}})});