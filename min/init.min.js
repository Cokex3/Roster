define(["../core","../var/document","./var/rsingleTag","../traversing/findFilter"],function(e,t,n){"use strict";var i,r=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,s=e.fn.init=function(s,o,a){var l,u;if(!s)return this;if(a=a||i,"string"==typeof s){if(l="<"===s[0]&&">"===s[s.length-1]&&s.length>=3?[null,s,null]:r.exec(s),!l||!l[1]&&o)return!o||o.jquery?(o||a).find(s):this.constructor(o).find(s);if(l[1]){if(o=o instanceof e?o[0]:o,e.merge(this,e.parseHTML(l[1],o&&o.nodeType?o.ownerDocument||o:t,!0)),n.test(l[1])&&e.isPlainObject(o))for(l in o)e.isFunction(this[l])?this[l](o[l]):this.attr(l,o[l]);return this}return u=t.getElementById(l[2]),u&&(this[0]=u,this.length=1),this}return s.nodeType?(this[0]=s,this.length=1,this):e.isFunction(s)?void 0!==a.ready?a.ready(s):s(e):e.makeArray(s,this)};return s.prototype=e.fn,i=e(t),s});