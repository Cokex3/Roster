define(["../core","../var/document"],function(e,t){"use strict";function s(){t.removeEventListener("DOMContentLoaded",s),window.removeEventListener("load",s),e.ready()}var n=[],i=function(e){n.push(e)},r=function(n){window.setTimeout(function(){n.call(t,e)})};e.fn.ready=function(e){return i(e),this},e.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--e.readyWait:e.isReady)||(e.isReady=!0,t!==!0&&--e.readyWait>0||(i=function(t){for(n.push(t);n.length;)t=n.shift(),e.isFunction(t)&&r(t)})())}}),e.ready.then=e.fn.ready,"complete"===t.readyState||"loading"!==t.readyState&&!t.documentElement.doScroll?window.setTimeout(e.ready):(t.addEventListener("DOMContentLoaded",s),window.addEventListener("load",s))});